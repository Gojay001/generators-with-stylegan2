# Generator with StyleGAN2
Setting python=3.6 in this repo.

## Preliminary
- Create conda env.

```shell
conda create -n gangen python=3.6
source activate gangen
```

- Install tensorflow.

```shell
conda install -c anaconda cudatoolkit=10.0 cudnn=7
pip install tensorflow==1.14.0
```

- Install requirements.

```shell
pip install -r requirements.txt
```

## Inference
1. Configure for Windows
MSVC version should be modified in `dnnlib/tflib/custom_ops.py` line 28 - line 30,

```python
compiler_bindir_search_path = [
    'C:/Program Files (x86)/Microsoft Visual Studio/2017/Community/VC/Tools/MSVC/14.16.27023/bin/Hostx64/x64',
    'C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.23.28105/bin/Hostx64/x64',
    'C:/Program Files (x86)/Microsoft Visual Studio 14.0/vc/bin',
]
```

2. Download .pkl models
Download model what you want to inference into `./networks/`, see txt in ./networks for details.

3. Configure code
Choose inference model and control the image number that you want to generate in `./main.py` line 49, 50.

4. Run code
Run `./main.py`, and the generated images are in `./results/`.
```shell
python main.py
```

5. Edit attribute (opt)
If already have generated code, which is in generated by `./main.py` in `./results/generate_codes`, you could run `edit_photo.py` to chance different attribute for the same image. In the same way, you should choose the inference model to run, and it will generate iamges in `./results/<attribute>/`.
